# ===== Upstream =====
UPSTREAM_URL=https://snowops-anpr-service.onrender.com/api/v1/anpr/events
PLATE_CAMERA_ID=shahovskoye

# ===== RTSP =====
PLATE_CAMERA_RTSP=rtsp://admin:Armat456321@178.22.170.254:554/streaming/channels/101
SNOW_CAMERA_RTSP=rtsp://admin:Armat456321@178.22.170.254:555/Streaming/Channels/101

# ===== Line crossing =====
PLATE_LINE_X1=0.000
PLATE_LINE_Y1=0.845
PLATE_LINE_X2=1.000
PLATE_LINE_Y2=0.600
PLATE_LINE_DIRECTION=down

SNOW_LINE_X1=0.000
SNOW_LINE_Y1=0.875
SNOW_LINE_X2=1.000
SNOW_LINE_Y2=0.600
SNOW_LINE_DIRECTION=down

# ===== Detection =====
YOLO_MODEL_PATH=yolov8n.pt
STREAM_MIN_CONFIDENCE=0.28
STREAM_MIN_BBOX_AREA=3000
STREAM_DETECTION_INTERVAL=1

# ===== Tracking =====
TRACK_MAX_AGE=30
TRACK_MIN_HITS=1
TRACK_IOU_THRESHOLD=0.15
TRACK_CROSS_COOLDOWN_S=1.0

# ===== Dedup =====
STREAM_DEDUP_WINDOW_SECONDS=5.0

# ===== Gemini =====
GEMINI_API_KEY=
GEMINI_MODEL=gemini-2.5-flash
GEMINI_CACHE_TTL_SECONDS=300

# ===== Runtime =====
ENABLE_STREAM_PROCESSOR=true

# ВАЖНО: читаем RTSP через ffmpeg (без OpenCV VideoCapture)
USE_FFMPEG_DIRECT=true

SHOW_STREAM_WINDOW=false

# Уменьшаем выход ffmpeg (стабильнее и легче для YOLO/Gemini)
FFMPEG_OUT_W=1920
FFMPEG_OUT_H=1080

# ===== FFmpeg path (фикс для Cursor/venv PATH) =====
# СЮДА ВСТАВЬ: where.exe ffmpeg
FFMPEG_BIN=C:\Users\diass\AppData\Local\Microsoft\WinGet\Packages\Gyan.FFmpeg_Microsoft.Winget.Source_8wekyb3d8bbwe\ffmpeg-8.0.1-full_build\bin\ffmpeg.exe

# TZ (Almaty = UTC+5)
LOCAL_TZ_OFFSET_HOURS=5
